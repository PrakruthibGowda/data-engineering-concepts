## Extract, Transform and Load

<p align='centre'> 
Extract Transform and Load to put it in simple terms, you pull the data from source systems then reshape it into what you desire and then load load into target system where the data will be used for analytics, machine learning or reporting needs. 
</p>

### Extract 
* Data is pulled from source systems
* Sources - Common sources can be Relational databases, Logs, APIs, Stream data from kafka etc 
* Methods - Data can be extracted in full every time, incrementally using timestamps or in real time.

### Transform 
* Process the extracted data before it lands in the final target.
* Common transformations - Cleaning and deduplication, type casting, applying business rules, joins and aggregations and sometimes SCD (Slow Changing Dimensions)
* Tools - A python/Spark job, Cloud tools like AWS Glue, GCP Dataflow for both streaming and Batched data, GCS CloudRun or Cloud fucntions for light transformations, dbt etc

### Load 
* Data is loaded to target system after being transformed 
* Targets - Common targets could be a Datawarehouse like BigQuery, Snowflake or be a Datalake like S3 buckets, Azure Delta lakes or GCS buckets. It can also be a Lakehouse like Databricks or Delta Lake.
* Stratergies - Loading also can be either done in batches, streams of real or near real-time, append only or using upserts to insert new data and update existing data. 

### Why use ETL and when ?
* Pick ETL when there is Compliance and Regulatory needs before loading  data into destination like masking PII information.
* If you have legacy or on-prem system where compute, storage is limited and scaling isn't easy.
* When raw data is huge but only small subset of it is need and adds value like data from Iot devices.
* Slower iteration is sufficient.

### When NOT to Use ETL

Avoid ETL when:
* Using BigQuery/Snowflake, as both of these warehouses provide ample compute and storage to perfrom transformations at rest.
* Storage is cheap.
* If there is need for raw data to be retained even after transforming.
* Business logic changes often, transformation on the move is not the best choice as it is less flexible and complexity increases.
* Modern companies with established infrastructure often prefer ELT unless thereâ€™s a strong reason for ETL.

#### Example : Iot data from manufacturing plant
There is TBs of data log produced by Iot sensors every second and I'm only interested oin hourly temperature averages.

Sensor Logs
      -->
Spark ETL
      -->
Aggregated hourly table
      -->
Warehouse(BQ/Snowflake)
